<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="700" viewBox="0 0 1200 700">
  <style>
    .bg{fill:#0F0F10}
    .box{fill:#1A1B1E;stroke:#2A2D33;stroke-width:2;rx:12;ry:12}
    .title{font:700 18px Arial;fill:#F5F3EE}
    .label{font:14px Arial;fill:#F5F3EE}
    .note{font:12px Arial;fill:#C9C2B8}
    .arrow{stroke:#D4AF37;stroke-width:2;marker-end:url(#arrow)}
  </style>
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L9,3 L0,6 Z" fill="#D4AF37" />
    </marker>
  </defs>

  <rect class="bg" x="0" y="0" width="1200" height="700" />
  <text x="30" y="40" class="title">GaelGo — Backend Flow (Spring Boot)</text>

  <!-- Flow 1 -->
  <rect x="40" y="80" width="520" height="180" class="box" />
  <text x="60" y="110" class="label">Flow 1: List Packages</text>
  <text x="60" y="135" class="note">GET /api/v1/package?budget=&amp;date=&amp;destination=</text>
  <text x="60" y="160" class="note">Service → PackageRepository</text>
  <text x="60" y="180" class="note">Methods:</text>
  <text x="80" y="200" class="note">• findByPriceLessThanEqual</text>
  <text x="80" y="220" class="note">• findByDepartureDate</text>
  <text x="80" y="240" class="note">• findByDestinationContainingIgnoreCase</text>

  <!-- Flow 2 -->
  <rect x="40" y="280" width="520" height="110" class="box" />
  <text x="60" y="310" class="label">Flow 2: Package Detail</text>
  <text x="60" y="335" class="note">GET /api/v1/package/{id}</text>
  <text x="60" y="355" class="note">Service → PackageRepository.findById</text>

  <!-- Flow 3 -->
  <rect x="40" y="410" width="520" height="120" class="box" />
  <text x="60" y="440" class="label">Flow 3: Provider Links</text>
  <text x="60" y="465" class="note">GET /api/v1/package/{id}/provider</text>
  <text x="60" y="485" class="note">Service → PackageProviderLinkRepository.findByTravelPackage_PackageId</text>

  <!-- Flow 4 -->
  <rect x="40" y="550" width="520" height="120" class="box" />
  <text x="60" y="580" class="label">Flow 4: Subscriber (optional)</text>
  <text x="60" y="605" class="note">POST /api/v1/subscriber</text>
  <text x="60" y="625" class="note">Check email → SubscriberRepository.findByEmail</text>
  <text x="60" y="645" class="note">Save new subscriber</text>

  <!-- Layers -->
  <rect x="650" y="120" width="480" height="420" class="box" />
  <text x="670" y="150" class="label">Layers</text>
  <text x="670" y="180" class="note">Controller → Service → Repository</text>
  <text x="670" y="205" class="note">Entities: Package, Provider, PackageProviderLink, PackagePriceHistory, Subscriber</text>
  <text x="670" y="230" class="note">DB: PostgreSQL</text>

  <line x1="560" y1="170" x2="650" y2="160" class="arrow" />
  <line x1="560" y1="335" x2="650" y2="200" class="arrow" />
  <line x1="560" y1="470" x2="650" y2="230" class="arrow" />
  <line x1="560" y1="610" x2="650" y2="260" class="arrow" />
</svg>
